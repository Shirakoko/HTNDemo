# 任务层次网络设计文档

## 状态和任务设计

### **1. 世界状态**

世界状态是猫猫当前的状态，可以用以下变量表示：

- `_energy`：精力值，整型，范围 0-10
- `_full`：饱腹值，整型，范围 0-10
- `_mood`：心情值，整型，范围 0-10
- `_masterBeside`：主人是否在旁边，布尔值，true/false

------

### **2. 原子任务**

原子任务是猫猫可以执行的最小任务单元，每个任务都有条件和效果：

| 任务名称 | 条件                                                  | 效果                                                  |
| :------- | :---------------------------------------------------- | :---------------------------------------------------- |
| 吃饭     | `_full <= 8`                                          | `_full += 2`, `_mood += 1`                            |
| 喝水     | 无条件                                                | `_full += 1`, `_mood += 1`                            |
| 睡觉     | `_energy <= 2`                                        | `_energy += 4`, `_mood -= 1`, `_masterBeside = false` |
| 拉屎     | `_full >= 6`                                          | `_full -= 2`, `_mood -= 2`,`_masterBeside = false`    |
| 拆家     | `_energy >= 4 && mood <= 4 && _masterBeside == false` | `_masterBeside = true`,`_energy -= 1`                 |
| 跑酷     | `_energy >= 5 && _mood <= 7`                          | `_energy -= 2`, `_full -= 3`, `_mood += 2`            |
| 追蟑螂   | `_energy >= 5`                                        | `_energy -= 3`, `_full -= 2`, `_mood += 1`            |
| 吃蟑螂   | `_full <= 7`                                          | `_full += 1`, `_mood -= 3`                            |
| 叫唤     | `_mood >= 7 && _full >= 5`                            | `_mood -= 1`, `_full -= 1`,`_masterBeside = true`     |
| 蹭主人   | `_masterBeside == true`                               | `_mood -= 2`                                          |
| 发呆     | 无条件                                                | `_mood += 1`                                          |
| 舔毛     | `_mood <= 5`                                          | `_mood += 1`, `_energy -= 1`                          |

------

### **3. 方法任务**

方法任务由【原子任务】和【复合任务】组成：

| 任务名称 | 方法条件                | 子任务组成                      | 描述                                 |
| :------- | ----------------------- | :------------------------------ | :----------------------------------- |
| 进食     |                         | 原子【吃饭】 + 原子 【喝水】    | 猫猫通过吃饭和喝水来恢复饱腹值和心情 |
| 捕猎     |                         | 原子【追蟑螂】 + 原子【吃蟑螂】 | 猫猫通过追蟑螂和吃蟑螂来获取食物     |
| 拉屎     |                         | 原子【拉屎】                    | 猫猫通过拉屎来减少饱腹值             |
| 跑酷     |                         | 原子【跑酷】                    | 猫猫通过跑酷来消耗精力并提升心情     |
| 运动     |                         | 复合【玩耍】+ 原子【拆家】      | 猫猫通过拆家来吸引主人注意           |
| 叫唤     |                         | 原子【叫唤】                    | 猫猫可能只是随便叫叫                 |
| 撒娇     | `_masterBeside == true` | 原子【蹭主人】 + 原子【叫唤】   | 猫猫通过蹭主人和叫唤来撒娇           |
| 休息     |                         | 原子【睡觉】 + 原子【发呆】     | 猫猫通过睡觉和发呆来恢复精力         |
| 清洁     |                         | 原子【舔毛】                    | 猫猫通过舔毛来提升心情               |
| 维持生命 |                         | 复合【维持生命】                | 猫猫需要维持声明                     |

------

### **4. 复合任务**

复合任务是最高层次的任务，只能由【方法任务】组成：

| 任务名称         | 子任务组成                                                   | 描述                                     |
| :--------------- | :----------------------------------------------------------- | :--------------------------------------- |
| 生活（终极任务） | 【维持生命】 + 【运动】 + 【叫唤】+【撒娇】 + 【休息】 + 【清洁】 | 猫猫的日常生活，包含所有可能的行为       |
| 玩耍             | 【跑酷】 + 【捕猎】                                          | 猫猫通过跑酷和追蟑螂来消耗精力并提升心情 |
| 维持生命         | 【进食】 + 【拉屎】                                          | 猫猫通过进食和拉屎来维持生命体征         |

